<ehcache xmlms:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="ehcache.xsd"
         updateCheck="true"
         monitoring="autodetect"
         dynamicConfig="true">

    <diskStore path="hairApp-cache" />


    <cache name="customerCache"
           maxEntriesLocalHeap="1000"
           eternal="true"
           timeToIdleSeconds="0"
           timeToLiveSeconds="20"
           overflowToDisk="false"
           memoryStoreEvictionPolicy="LFU">
        <persistence strategy="distributed"/>
        <terracotta clustered="true"
                    consistency="eventual"
                    synchronousWrites="false"
        />
    </cache>

    <terracottaConfig>
        <tc-config>
            <servers>
                <server host="localhost"
                        name="s1">
                        <tsa-port>9510</tsa-port>
                        <jmx-port>9520</jmx-port>
                        <tsa-group-port>9530</tsa-group-port>
                </server>
                <!--<server host="localhost"-->
                        <!--name="s1">-->
                    <!--<tsa-port>9510</tsa-port>-->
                    <!--<jmx-port>9520</jmx-port>-->
                    <!--<tsa-group-port>9530</tsa-group-port>-->
                <!--</server>-->
            </servers>
            <clients>
                <logs>cache/logs-%i</logs>
            </clients>
        </tc-config>
    </terracottaConfig>

    <cachewriter maxwritedelay="10"
                 notifylistenersonexception="true"
                 ratelimitpersecond="5"
                 retryattemptdelayseconds="2"
                 retryattempts="4"
                 writebatching="false"
                 writebatchsize="20"
                 writecoalescing="false"
                 writemode="write-behind">

        <cachewriterfactory class="WritebehindFactory"> </cachewriterfactory>
    </cachewriter>





        </ehcache>