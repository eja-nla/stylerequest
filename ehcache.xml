<ehcache xmlms:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="ehcache.xsd"
         updateCheck="true"
         monitoring="autodetect"
         dynamicConfig="true">

    <diskStore path="hairApp-cache" />


    <cache name="customerCache"
           maxEntriesLocalHeap="1000"
           eternal="true"
           timeToIdleSeconds="0"
           timeToLiveSeconds="20"
           overflowToDisk="false"
           memoryStoreEvictionPolicy="LFU">
        <persistence strategy="none"/>
        <!--<terracotta clustered="true"-->
                    <!--consistency="eventual"-->
                    <!--synchronousWrites="false"/>-->

        <cacheWriter maxWriteDelay="10"
                     notifyListenersOnException="true"
                     rateLimitPerSecond="5"
                     retryAttemptDelaySeconds="2"
                     retryAttempts="4"
                     writeBatching="true"
                     writeBatchSize="2"
                     writeCoalescing="false"
                     writeMode="write-behind">

            <cacheWriterFactory class="com.hair.business.cache.repository.ehcache.WritebehindFactory"> </cacheWriterFactory>
        </cacheWriter>
    </cache>

    <!--<terracottaConfig>-->
        <!--<tc-config>-->
            <!--<servers>-->
                <!--<server host="localhost"-->
                        <!--name="s1">-->
                        <!--<tsa-port>9510</tsa-port>-->
                        <!--<jmx-port>9520</jmx-port>-->
                        <!--<tsa-group-port>9530</tsa-group-port>-->
                <!--</server>-->
                <!--&lt;!&ndash;<server host="localhost"&ndash;&gt;-->
                        <!--&lt;!&ndash;name="s1">&ndash;&gt;-->
                    <!--&lt;!&ndash;<tsa-port>9510</tsa-port>&ndash;&gt;-->
                    <!--&lt;!&ndash;<jmx-port>9520</jmx-port>&ndash;&gt;-->
                    <!--&lt;!&ndash;<tsa-group-port>9530</tsa-group-port>&ndash;&gt;-->
                <!--&lt;!&ndash;</server>&ndash;&gt;-->
            <!--</servers>-->
            <!--<clients>-->
                <!--<logs>cache-logs/logs-%i</logs>-->
            <!--</clients>-->
        <!--</tc-config>-->
    <!--</terracottaConfig>-->


</ehcache>